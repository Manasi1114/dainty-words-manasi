---
import Button from "../components/Button.astro";
const allPosts = Object.values(
  import.meta.glob("../pages/blog/*.md", { eager: true })
);
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="description" content="Blog List" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" type="image/svg+xml" href="/svg/favicon.svg" />
    <title>Blog</title>
    <link rel="stylesheet" href="/src/styles/global.css" />
  </head>

  <body>
    <main class="blog-container">
      <article class="blog-list">
        {allPosts.map((post: any) => (
          <div class="blog-item">
            <a href={post.url} class="blog-link">
              <h2 class="blog-heading">{post.frontmatter.title}</h2>
              <hr class="title-divider" />
              {post.frontmatter.date && (
                <p class="blog-date">{post.frontmatter.date}</p>
              )}
            </a>
          </div>
        ))}
      </article>

        </div>
        <ul class="link"><Button text="Back" link="/projects" /></ul>
      </div>
      <section class="blog-content">
        <slot />
      </section>
    </main>
  </body>

  <style>
    *{
      background-color: rgb(251, 247, 247);
    }
    .blog-container {
      max-width: 800px;
      margin: 0 auto;
      padding: 2rem;
      line-height: 1.6;
    }

    .blog-list {
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
    }

    .blog-link {
      text-decoration: none;
      color: inherit;
      display: block;
    }

    .blog-heading {
      font-size: 1.75rem;
      margin: 0 0 0.25rem;
      color: #333;
      font-family: "lapture", serif;
    }

    .title-divider {
      border: none;
      border-bottom: 1px solid #ddd;
      margin: 0 0 0.5rem 0;
      width: 100%;
    }

    .blog-date {
      font-size: 0.9rem;
      color: #666;
      margin: 0;
    }

    .blog-content {
      margin-top: 90px;
      font-size: 1.1rem;
      color: #444;
      font-family: "palatino linotype", serif;
    }
    .blog-content:initial-letter {
  float: left;
  font-size: 3.5rem;
  line-height: 1;
  padding-right: 0.1em;
  font-weight: bold;
  font-family: "Palatino Linotype", serif;
}

.link {
  position: fixed;
  bottom: 20px;
  left: 20px;
  font-size: 1.2rem;
}
  </style>
</html>
